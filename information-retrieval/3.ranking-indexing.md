
- [Table of Content](#table-of-content)
  - [Abstract Model of Ranking](#abstract-model-of-ranking)
    - [Document Score](#document-score)
    - [Feature Function](#feature-function)
      - [Topical Feature](#topical-feature)
      - [Quality Feature](#quality-feature)
  - [Data Structures for Web Page](#data-structures-for-web-page)
    - [Inverted Index](#inverted-index)
      - [What should not be in the inverted list](#what-should-not-be-in-the-inverted-list)
    - [Web Graph](#web-graph)
    - [Forward Index](#forward-index)
    - [Page Attribute File](#page-attribute-file)


# Table of Content
## Abstract Model of Ranking
### Document Score
  - calculated by sum of multiplications of document feature functions and query feature functions output 
  - $R(Q,D) = \sum_{i}g_i(Q)f_{i}(D)$
  - in practice, the query features are mostly zero (time complexity)

### Feature Function
  - a mathematical expression that generates numbers from document text (TFIDF???)
  - includes document features and query features
  - features could be **topical/quality**


#### Topical Feature
Estimate the degree to which the document/query is about a particular subject 
  - how do we decide these topical features ??? (phrases??? N-grams????)

#### Quality Feature
  - examples such as links to these documents, number of days since it was last updated
  - for query, it would be whether these qualities is relevant to given query nature (query about weather requires that the document be up-to-date)

## Data Structures for Web Page


### Inverted Index
Word -> Documents 
  - Dictionary using B+ tree, hash table
  - each entry (inverted list) contains 
    - Number of pages containing the term
    - Pointer to the start of the inverted 
    - other meta-data about the term
  - Typical Entry
    - Document Id
    - Frequencies
    - Positions
    - Weights
#### What should not be in the inverted list 
  - something is not describing the pair of word and document, such as: the number of documents containing the term (should go to vocabulary)
  - document length (page attribute file)


### Web Graph
  - HTML Pages -> HTML Parsers -> Web graph -> Content and Link analysis (link quality, link spam, duplicate detection, mirror site detection) -> web repository

### Forward Index
anchor text (web graph) + html page () -> text processor (tokenizer, phrase extractor, entity extractor) -> forward index
  - forward index: document -> words

### Page Attribute File
forward index (page content) + web graph (attrib) -> classifiers and feature extractors (spam classifier, adult classifier, text quality estimator ...) -> page attribute file
